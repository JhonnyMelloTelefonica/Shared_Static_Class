// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using Microsoft.EntityFrameworkCore;
using Newtonsoft.Json;
using PropertyChanged;
using Shared_Static_Class.Converters;

namespace Shared_Static_Class.Data;

[Table("DEMANDA_DESLIGAMENTOS", Schema = "Demandas")]
[AddINotifyPropertyChangedInterface]
public partial class DEMANDA_DESLIGAMENTOS
{
    [Key]
    public int ID { get; set; }
    [Required]
    public Guid ID_RELACAO { get; set; }
    public int MATRICULA_SOLICITANTE { get; private set; }
    public int? MATRICULA_RESPONSAVEL { get; private set; } = null;
    public DateTime DATA_ABERTURA { get; private set; }
    public string REGIONAL { get; private set; }

    public void SetPrivateData(string regional, DateTime Hora, int matricula)
    {
        MATRICULA_SOLICITANTE = matricula;
        REGIONAL = regional;
        DATA_ABERTURA = Hora;
    }

    [Required(ErrorMessage = "Campo {0} é obrigatório")]
    public int Matricula { get; set; }
    [Required(ErrorMessage = "Campo {0} é obrigatório")]
    public string Login { get; set; }
    [Required(ErrorMessage = "Campo {0} é obrigatório")]
    public string Nome { get; set; }
    [Required(ErrorMessage = "Campo {0} é obrigatório")]
    public string Cpf
    {
        get => _cpf;
        set
        {
            _cpf = FormatInputs.FormatCPF(value);
        }
    }
    private string _cpf;

    [ForeignKey("ID_RELACAO")]
    [Required]
    [JsonIgnore]
    public virtual DEMANDA_RELACAO_CHAMADO Relacao { get; set; }

    [ForeignKey("MATRICULA_SOLICITANTE")]
    public virtual ACESSOS_MOBILE Solicitante { get; set; }
    [ForeignKey("MATRICULA_RESPONSAVEL")]
    public virtual ACESSOS_MOBILE? Responsavel { get; set; }
}
